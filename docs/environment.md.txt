# 环境准备（所有节点执行）

## 1. 配置主机名
```bash
# master1
hostnamectl set-hostname master1
# master2
hostnamectl set-hostname master2
# master3
hostnamectl set-hostname master3
# worker1
hostnamectl set-hostname worker1
2. 配置 hosts 文件
bash
cat >> /etc/hosts <<EOF
192.168.10.11 master1
192.168.10.12 master2
192.168.10.13 master3
192.168.10.14 worker1
192.168.10.100 vip
EOF
3. 关闭防火墙与 SELinux
bash
systemctl stop firewalld && systemctl disable firewalld
setenforce 0
sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config
4. 关闭 Swap
bash
swapoff -a
sed -i '/ swap / s/^\(.*\)$/#\1/g' /etc/fstab
5. 配置时间同步
bash
dnf install -y chrony
systemctl enable --now chronyd
6. 加载内核模块
创建 /etc/modules-load.d/k8s.conf：

ini
overlay
br_netfilter
执行：

bash
modprobe overlay
modprobe br_netfilter
7. 配置内核参数
创建 /etc/sysctl.d/k8s.conf：

ini
net.bridge.bridge-nf-call-iptables  = 1
net.bridge.bridge-nf-call-ip6tables = 1
net.ipv4.ip_forward                 = 1
vm.swappiness = 0
生效：

bash
sysctl --system
8. 安装基础工具
bash
dnf install -y vim wget curl net-tools nfs-utils ipvsadm bash-completion yum-utils
9. 重启（可选）
bash
reboot